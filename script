local newTextureID = "3293972833"  -- Рабочий ID (можно менять в меню)

local function applySafe(obj)
    if obj:IsA("Decal") then
        -- Проверяем, не битая ли текстура
        local test = Instance.new("Decal")
        test.Texture = newTextureID
        test.Parent = obj
        task.wait(0.1)
        if test.Texture == newTextureID then
            obj.Texture = newTextureID
        end
        test:Destroy()

    elseif obj:IsA("MeshPart") then
        obj.TextureID = newTextureID

    elseif obj:IsA("BasePart") then
        -- Удаляем старые текстуры
        for _, child in ipairs(obj:GetChildren()) do
            if child:IsA("Texture") then
                child:Destroy()
            end
        end
        -- Добавляем новую (если материал подходит)
        if obj.Material == Enum.Material.Plastic then
            local texture = Instance.new("Texture")
            texture.Texture = newTextureID
            texture.Face = Enum.NormalId.Top
            texture.Parent = obj
        end
    end
end

-- Замена с проверкой
for _, obj in ipairs(workspace:GetDescendants()) do
    task.spawn(applySafe, obj)  -- Асинхронно, чтобы не лагал
    task.wait(0.01)  -- Задержка для стабильности
end

print("✅ Текстуры заменены без зависания!")
